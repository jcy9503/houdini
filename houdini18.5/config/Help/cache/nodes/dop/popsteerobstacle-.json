{"body": [{"indent": 0, "text": ["POP Steer Obstacle"], "type": "title", "extent": [0, 23], "level": 0}, {"indent": 0, "type": "summary", "extent": [146, 238], "text": ["Applies force to agents/particles to avoid potential collisions with static objects."]}, {"indent": 0, "type": "para", "extent": [238, 374], "text": ["This is a ", {"text": ["crowd behavior"], "fullpath": "/crowds/states", "scheme": null, "type": "link", "value": "/crowds/states"}, " node, but you can also use it on regular particles (see the ", {"text": ["Output attribute"], "type": "ui"}, " parameter)."]}, {"indent": 0, "type": "para", "extent": [374, 649], "text": ["This node sends out a certain number of rays in a cone along its forward direction, and tries to avoid collisions based on the closest ray hit. It looks for the optimal path based on the least obstructed ray, and uses environment normal directions as the braking direction."]}, {"indent": 0, "type": "para", "extent": [649, 737], "text": ["See ", {"text": ["crowd obstacles"], "fullpath": "/crowds/obstacles", "scheme": null, "type": "link", "value": "/crowds/obstacles"}, " for how to set up obstacles using shelf tools."]}, {"body": [{"body": [{"body": [{"type": "para", "indent": 4, "extent": [51, 180], "text": ["When this is off, the node will have no effect. You can animate this to turn the behavior on or off at different times."]}], "container": true, "text": ["Activation"], "role": "item", "attrs": {"id": "activate"}, "extent": [16, 28], "indent": 0, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [211, 410], "text": ["Only modify a certain group or groups out of all agents/particles. You can name groups of agents using the ", {"text": ["Group name"], "type": "ui"}, " parameter on the ", {"text": ["Crowd Source geometry node"], "fullpath": "/nodes/sop/crowdsource", "scheme": "Node", "type": "link", "value": "/nodes/sop/crowdsource"}, "."]}], "indent": 0, "text": ["Group"], "role": "item", "attrs": {"id": "partgroup"}, "extent": [180, 187], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [449, 583], "text": ["If you are working with agents, set this to \"Crowds steerforce\". If you are working with particles, set this to \"POP force\"."]}, {"indent": 4, "type": "para", "extent": [583, 800], "text": ["This controls whether the node modifies the agent\u2019s ", {"text": ["steerforce"], "type": "code"}, " attribute (used by the ", {"text": ["crowd solver"], "fullpath": "/nodes/dop/crowdsolver", "scheme": "Node", "type": "link", "value": "/nodes/dop/crowdsolver"}, ") or the particle\u2019s ", {"text": ["force"], "type": "code"}, " attribute (used by the ", {"text": ["POP solver"], "fullpath": "/nodes/dop/popsolver", "scheme": "Node", "type": "link", "value": "/nodes/dop/popsolver"}, ")."]}], "indent": 0, "text": ["Output Attribute"], "role": "item", "attrs": {"id": "output"}, "extent": [410, 428], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [829, 1018], "text": ["Available when ", {"text": ["Output attribute"], "type": "ui"}, " is \"Crowd steerforce\". This number is used by the ", {"text": ["crowd solver"], "fullpath": "/nodes/dop/crowdsolver", "scheme": "Node", "type": "link", "value": "/nodes/dop/crowdsolver"}, " to normalize and scale multiple forces that apply to an agent."]}], "indent": 0, "text": ["Weight"], "role": "item", "attrs": {"id": "weight"}, "extent": [800, 808], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [907, 1014], "text": ["Whether to get the obstacle geometry from a geometry (SOP) node, or a piece of simulation (DOP) data."]}], "indent": 0, "text": ["Source"], "role": "item", "extent": [899, 907], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1024, 1189], "text": ["When ", {"text": ["Source"], "type": "ui"}, " is \"SOP\", the path to an object (for example ", {"text": ["/obj/house"], "type": "code"}, ") or geometry node (for example, ", {"text": ["/obj/house/walls"], "type": "code"}, ") containing the obstacle geometry."]}], "indent": 0, "text": ["SOP Path"], "role": "item", "extent": [1014, 1024], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1208, 1346], "text": ["When ", {"text": ["Source"], "type": "ui"}, " is \"DOP Data\", the name of a piece of geometry data, such as created by a ", {"text": ["Static Object DOP"], "fullpath": "/nodes/dop/staticobject", "scheme": "Node", "type": "link", "value": "/nodes/dop/staticobject"}, "."]}], "indent": 0, "text": ["Obstacle DOP Data"], "role": "item", "extent": [1189, 1208], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1363, 1443], "text": ["Amount of force applied to alter agent path to avoid the obstacle."]}], "indent": 0, "text": ["Avoidance Force"], "role": "item", "extent": [1346, 1363], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1458, 1608], "text": ["How much force to apply in the opposite direction of the agent/particle\u2019s current velocity to make it slow down to avoid a future collision."]}], "indent": 0, "text": ["Braking Force"], "role": "item", "extent": [1443, 1458], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1631, 1750], "text": ["The maximum distance (in meters) in front of the agent to look for collisions with the obstacle geometry."]}], "indent": 0, "text": ["Front Search Distance"], "role": "item", "extent": [1608, 1631], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1772, 1894], "text": ["The maximum distance (in meters) to the side of the agent to look for collisions with the obstacle geometry."]}], "indent": 0, "text": ["Side Search Distance"], "role": "item", "extent": [1750, 1772], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1903, 2091], "text": ["Number of rays to send out looking for possible collisions. The more rays you send, the earlier and more accurate the avoidance will be, but the slower the node will operate."]}], "indent": 0, "text": ["Samples"], "role": "item", "extent": [1894, 1903], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2105, 2185], "text": ["Seed for the random number generator used to generate sample rays."]}], "indent": 0, "text": ["Samples Seed"], "role": "item", "extent": [2091, 2105], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2205, 2266], "text": ["Bias for longer ray samples to have more influence."]}], "indent": 0, "text": ["Sample Weight Bias"], "role": "item", "extent": [2185, 2205], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2282, 2351], "text": ["Field of view (in degrees) in the horizontal direction."]}], "indent": 0, "text": ["FOV Horizontal"], "role": "item", "extent": [2266, 2282], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2365, 2428], "text": ["Field of view (in degrees) in the vertical direction."]}], "indent": 0, "text": ["FOV Vertical"], "role": "item", "extent": [2351, 2365], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2446, 2557], "text": ["Force the agent/particle to stay clear of any possible penetrations with the collisions geometry."]}], "indent": 0, "text": ["Force Separation"], "role": "item", "extent": [2428, 2446], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [737, 749], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [2566, 2580], "text": [{"text": "", "fullpath": "/crowds/index", "scheme": null, "type": "link", "value": "/crowds/"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [2557, 2566], "container": true, "type": "related_section", "id": "related"}], "title": ["POP Steer Obstacle"], "summary": ["Applies force to agents/particles to avoid potential collisions with static objects."], "attrs": {"version": "", "tags": "crowds behavior", "since": "14.0", "namespace": null, "internal": "popsteerobstacle", "context": "dop", "type": "node", "icon": "CROWDS/popsteerobstacle"}, "included": ["/nodes/dop/crowd_steer_parms"], "type": "root"}