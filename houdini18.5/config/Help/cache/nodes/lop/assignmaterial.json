{"body": [{"indent": 0, "text": ["Assign Material"], "type": "title", "extent": [0, 20], "level": 0}, {"indent": 0, "type": "summary", "extent": [130, 374], "text": ["Assigns a material to one or more USD primitives. You can use also programmatically assign materials using VEX, programmatically override material settings for each assignment, and programmatically assign materials to geometry subsets."]}, {"body": [{"body": [{"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [654, 900], "text": ["You can also use ", {"text": ["primitive patterns"], "fullpath": "/solaris/pattern", "scheme": null, "type": "link", "value": "/solaris/pattern"}, " for advanced matching.\n        This includes selecting all primitives in a collection, for example all prims in the ", {"text": ["donuts"], "type": "code"}, " collection on ", {"text": ["/table"], "type": "code"}, " using ", {"text": ["/table.collections:donuts"], "type": "code"}]}, {"body": [{"body": [{"indent": 12, "type": "para", "extent": [913, 1202], "text": ["If you assign a material to all prims in a collection, you probably also want to set the ", {"text": ["Method"], "type": "ui"}, " (under \"Material Binding\") to \"Collection based\", so the node assigns the material to the collection itself, rather than individually to each prim currently in the collection."]}], "indent": 8, "role": "item", "extent": [900, 913], "container": true, "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 4, "text": ["In the ", {"text": ["Primitives"], "type": "ui"}, " parameter, specify the primitive(s) you want to assign the material to. You can click the select button beside the text box to choose the primitives from the scene graph tree."], "extent": [449, 654], "container": true, "blevel": 6, "type": "ord"}, {"indent": 4, "blevel": 6, "type": "ord", "extent": [1202, 1260], "text": ["Set ", {"text": ["Specify material using"], "type": "ui"}, " to \"Explicit path\"."]}, {"indent": 4, "blevel": 6, "type": "ord", "extent": [1260, 1443], "text": ["Set ", {"text": ["Material path"], "type": "ui"}, " to the path of the USD material you want to assign. You can click the select button beside the text box to choose the material from the scene graph tree."]}], "container": true, "type": "ord_group"}], "indent": 0, "text": [" Assign a material to one or more primitives"], "role": "item", "extent": [395, 449], "container": true, "type": "task"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "ord", "extent": [1503, 1786], "text": ["In the ", {"text": ["Primitives"], "type": "ui"}, " parameter, specify the primitive(s) you want to assign the material to. You can click the select button beside the text box to choose the primitives from the scene graph tree. You can also use ", {"text": ["primitive patterns"], "fullpath": "/solaris/pattern", "scheme": null, "type": "link", "value": "/solaris/pattern"}, " for advanced matching."]}, {"indent": 4, "blevel": 6, "type": "ord", "extent": [1786, 1842], "text": ["Set ", {"text": ["Specify material using"], "type": "ui"}, " to \"VEXpression\"."]}, {"body": [{"indent": 8, "type": "para", "extent": [1966, 2222], "text": ["The snippet is run once for each selected primitive. The path of the current primitive is available as ", {"text": ["@primpath"], "type": "code"}, ". The index of the current primitive is available as ", {"text": ["@elemnum"], "type": "code"}, ", the total number of selected primitives is available as ", {"text": ["@numelem"], "type": "code"}, "."]}, {"indent": 8, "type": "para", "extent": [2222, 2660], "text": ["Under \"CVEX Bindings\", when ", {"text": ["Autobind by name"], "type": "ui"}, " is on (the default), each attribute on the current primitive is available as a VEX variable of the same name. This allows you to assign different materials based on a primitive\u2019s attribute values. (If you don\u2019t want to or can\u2019t use autobinding, you can manually set up individual mappings between parameter names and VEX variable names using the multiparm under \"CVEX Bindings\".)"]}, {"indent": 8, "type": "para", "extent": [2660, 2769], "text": ["The snippet must ", {"text": ["return"], "type": "code"}, " a string containing the material path to assign to the current primitive."]}, {"indent": 8, "type": "para", "extent": [2769, 2957], "text": ["For example, this snippet alternates between assigning ", {"text": ["rough_red"], "type": "code"}, " and ", {"text": ["rough_blue"], "type": "code"}, " based on whether a primitive is at an odd or even position in the list of selected primitives:"]}, {"lang": "vex", "indent": 8, "type": "pre", "extent": [2957, 3077], "text": ["\n        return (@elemnum % 2) ? \"/materials/rough_red\" : \"/materials/rough_blue\";\n        "]}], "indent": 4, "text": ["In the ", {"text": ["VEXpression"], "type": "ui"}, " box, enter a ", {"text": ["VEX snippet"], "fullpath": "/vex/snippets", "scheme": null, "type": "link", "value": "/vex/snippets"}, " to compute the material to assign to each primitive."], "extent": [1842, 1966], "container": true, "blevel": 6, "type": "ord"}], "container": true, "type": "ord_group"}], "indent": 0, "text": [" Assign computed materials using VEX (advanced)"], "role": "item", "extent": [1443, 1503], "container": true, "type": "task"}, {"body": [{"indent": 4, "type": "para", "extent": [3137, 3226], "text": ["This lets you compute different values for material parameters for each assignment."]}, {"body": [{"indent": 4, "blevel": 6, "type": "ord", "extent": [3226, 3278], "text": ["Set ", {"text": ["Parameter override"], "type": "ui"}, " to \"VEXpression\"."]}, {"body": [{"indent": 8, "type": "para", "extent": [3407, 3663], "text": ["The snippet is run once for each selected primitive. The path of the current primitive is available as ", {"text": ["@primpath"], "type": "code"}, ". The index of the current primitive is available as ", {"text": ["@elemnum"], "type": "code"}, ", the total number of selected primitives is available as ", {"text": ["@numelem"], "type": "code"}, "."]}, {"indent": 8, "type": "para", "extent": [3663, 3964], "text": ["Under \"CVEX Bindings\", when ", {"text": ["Autobind by name"], "type": "ui"}, " is on (the default), each parameter on the material is available as a VEX variable of the same name. For example, if the material has a parameter named ", {"text": ["roughness"], "type": "code"}, ", you can override it by setting the corresponding variable in the VEX snippet:"]}, {"lang": "vex", "indent": 8, "type": "pre", "extent": [3964, 4052], "text": ["\n        @roughness = (@elemnum % 3) ? 0.25 : 0.5;\n        "]}, {"indent": 8, "type": "para", "extent": [4052, 4244], "text": ["If you don\u2019t want to or can\u2019t use autobinding, you can manually set up individual mappings between parameter names and VEX variable names using the multiparm under \"CVEX Bindings\"."]}], "indent": 4, "text": ["In the ", {"text": ["Override VEXpression"], "type": "ui"}, " box, enter a ", {"text": ["VEX snippet"], "fullpath": "/vex/snippets", "scheme": null, "type": "link", "value": "/vex/snippets"}, " to override parameters on the assigned material."], "extent": [3278, 3407], "container": true, "blevel": 6, "type": "ord"}], "container": true, "type": "ord_group"}], "indent": 0, "text": [" Override material parameters using VEX (advanced)"], "role": "item", "extent": [3077, 3137], "container": true, "type": "task"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "ord", "extent": [4325, 4421], "text": ["Set the ", {"text": ["Primitives"], "type": "ui"}, " to the path of the geometry primitive (for example, a Mesh prim)."]}, {"indent": 4, "blevel": 6, "type": "ord", "extent": [4421, 4477], "text": ["Set ", {"text": ["Specify material using"], "type": "ui"}, " to \"VEXpression\"."]}, {"indent": 4, "blevel": 6, "type": "ord", "extent": [4477, 4556], "text": ["Under \"Material Binding\", turn on ", {"text": ["Create and bind geometry subsets"], "type": "ui"}, "."]}, {"body": [{"indent": 8, "type": "para", "extent": [4762, 4869], "text": ["The snippet must ", {"text": ["return"], "type": "code"}, " a string containing the material path to assign to the current element."]}], "indent": 4, "text": ["In the VEX snippet, ", {"text": ["@elemnum"], "type": "code"}, " contains the index of the current ", {"text": ["element"], "type": "em"}, " in the selected geometry (for example, polygon face), and ", {"text": ["@numelem"], "type": "code"}, " contains the total number of elements in the geometry."], "extent": [4556, 4762], "container": true, "blevel": 6, "type": "ord"}], "container": true, "type": "ord_group"}, {"indent": 4, "type": "para", "extent": [4869, 4981], "text": ["The node will automatically create geometry subsets for each set of elements with the same material path."]}], "indent": 0, "text": [" Assign materials to individual elements in geometry using VEX (advanced)"], "role": "item", "extent": [4244, 4325], "container": true, "type": "task"}], "container": true, "role": "item_group", "type": "task_group"}], "indent": 0, "level": 2, "text": ["How to"], "extent": [374, 395], "container": true, "type": "h", "id": "howto"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [5043, 5339], "text": ["We strongly encourage you to ", {"text": ["use VEXpressions instead of CVEX VOP networks"], "type": "strong"}, ". As detailed below, CVEX networks require multiple steps to set up. Unless you need a very elaborate VOP network to do the computation, or want to re-use some existing VOPs, writing a VEX snippet is ", {"text": ["much"], "type": "em"}, " easier."]}], "indent": 0, "role": "item", "extent": [5036, 5043], "container": true, "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}, {"body": [{"indent": 0, "blevel": 2, "type": "ord", "extent": [5339, 5418], "text": ["Set either ", {"text": ["Specify material using"], "type": "ui"}, " or ", {"text": ["Parameters override"], "type": "ui"}, " to \"CVEX\"."]}, {"indent": 0, "blevel": 2, "type": "ord", "extent": [5418, 5654], "text": ["The most convenient place to create the CVEX VOP network is inside the Assign Material node itself (it contains a VEX Builder network). Dive inside, press ", {"keys": ["Tab"], "text": null, "type": "keys"}, " and create a ", {"text": ["CVEX Shader Builder"], "fullpath": "/nodes/vop/cvexbuilder", "scheme": "Node", "type": "link", "value": "/nodes/vop/cvexbuilder"}, " network node."]}, {"indent": 0, "blevel": 2, "type": "ord", "extent": [5654, 5906], "text": ["Rename the CVEX Builder with a memorable name based on what the network will do (for example, ", {"text": ["material_assignment"], "type": "code"}, "). If you are doing multiple assignments in the Assign Material node, using multiple CVEX networks, they must each have unique names."]}, {"indent": 0, "blevel": 2, "type": "ord", "extent": [5906, 6078], "text": ["Dive inside the CVEX Builder node and put down a ", {"text": ["USD Global Parameters"], "fullpath": "/nodes/vop/usdglobal", "scheme": "Node", "type": "link", "value": "/nodes/vop/usdglobal"}, " node. This provides the basic inputs (", {"text": ["primpath"], "type": "code"}, ", ", {"text": ["elemnum"], "type": "code"}, ", and ", {"text": ["numelem"], "type": "code"}, ")."]}, {"body": [{"indent": 4, "type": "para", "extent": [6242, 6414], "text": ["If you are assigning to parameters to override material attributes, remember to set the Parameter VOP\u2019s ", {"text": ["Export"], "type": "ui"}, " parameter to \"Always\" or \"When input is connected\"."]}], "indent": 0, "text": ["If the Assign Material node is creating bindings, you can add corresponding ", {"text": ["Parameter VOPs"], "fullpath": "/nodes/vop/parm", "scheme": "Node", "type": "link", "value": "/nodes/vop/parm"}, " in this network to represent the bound VEX variables."], "extent": [6078, 6242], "container": true, "blevel": 2, "type": "ord"}, {"indent": 0, "blevel": 2, "type": "ord", "extent": [6414, 6707], "text": ["If you are using the network to compute material assignments, create a single ", {"text": ["Parameter VOP"], "fullpath": "/nodes/vop/parm", "scheme": "Node", "type": "link", "value": "/nodes/vop/parm"}, " at the end of the network to represent the \"return\" value. Set its ", {"text": ["Name"], "type": "ui"}, " to ", {"text": ["matname"], "type": "code"}, ", set its ", {"text": ["Export"], "type": "ui"}, " parameter to \"Always\", and connect the rest of the network to its input."]}, {"indent": 0, "blevel": 2, "type": "ord", "extent": [6707, 6766], "text": ["Fill in the VOP network to do the computation you want."]}, {"body": [{"indent": 4, "type": "para", "extent": [6933, 7075], "text": ["If you created the network inside this Assign Material node, you can simply enter the network\u2019s name, for example ", {"text": ["material_assignment"], "type": "code"}, "."]}, {"indent": 4, "type": "para", "extent": [7075, 7202], "text": ["If you created the network elsewhere, you must enter a path to the network node, for example ", {"text": ["/mat/material_assignment"], "type": "code"}, "."]}], "indent": 0, "text": ["Go back up to the Assign Material node\u2019s parameters. In the ", {"text": ["CVEX node"], "type": "ui"}, " or ", {"text": ["Override CVEX node"], "type": "ui"}, " parameter, enter the path to the CVEX network you just created."], "extent": [6766, 6933], "container": true, "blevel": 2, "type": "ord"}], "container": true, "type": "ord_group"}], "indent": 0, "level": 2, "text": ["Using CVEX VOP networks (not recommended)"], "extent": [4981, 5036], "container": true, "type": "h", "id": "cvex"}, {"body": [{"body": [{"type": "bullet", "blevel": 2, "indent": 0, "extent": [16, 336], "text": ["In VEX snippets, you can use ", {"text": ["@"], "type": "code"}, " variable names containing colons (", {"text": [":"], "type": "code"}, "). This makes it easier to automatically bind certain USD attribute names (for example ", {"text": ["i@primvars:foo"], "type": "code"}, "). (These names are not normally legal in names in VEX source code. The node automatically encodes these kinds of names when used in a snippet.)"]}], "type": "bullet_group", "container": true}], "indent": 0, "level": 2, "text": ["Tips"], "extent": [7202, 7213], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [7275, 7456], "text": ["You can perform multiple assignments within one node. Set this to the number of assignments you want to perform, or use the plus and minus button to add or remove assignments."]}], "indent": 0, "text": ["Number of materials"], "role": "item", "extent": [7253, 7275], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7468, 7708], "text": ["The primitive(s) you want to assign the material to. You can click the select button beside the text box to select the primitives from the scene graph tree. You can also use ", {"text": ["primitive patterns"], "fullpath": "/solaris/pattern", "scheme": null, "type": "link", "value": "/solaris/pattern"}, " for advanced matching."]}], "indent": 0, "text": ["Primitives"], "role": "item", "extent": [7456, 7468], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7732, 7776], "text": ["How to specify the material to assign."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [7795, 7865], "text": ["Assign a material at a certain path in the scene graph tree."]}], "indent": 4, "text": ["Explicit path"], "extent": [7776, 7795], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [7882, 7985], "text": ["Assign a material to each selected primitive based on the results of computing a VEX snippet."]}], "indent": 4, "text": ["VEXpression"], "extent": [7865, 7882], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [8002, 8016], "text": ["TBD."]}], "indent": 4, "text": ["CVEX Script"], "extent": [7985, 8002], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Specify Material Using"], "role": "item", "extent": [7708, 7732], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8031, 8147], "text": ["When ", {"text": ["Specify material using"], "type": "ui"}, " is \"Explicit path\", the USD path to the material primitive to use for binding."]}], "indent": 0, "text": ["Material Path"], "role": "item", "extent": [8016, 8031], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8160, 8563], "text": ["When ", {"text": ["Specify material using"], "type": "ui"}, " is \"VEXpression\", this ", {"text": ["VEX snippet"], "fullpath": "/vex/snippets", "scheme": null, "type": "link", "value": "/vex/snippets"}, " is computed for each selected primitive. You can use ", {"text": ["@primpath"], "type": "code"}, " (the path of the current primitive), ", {"text": ["@elemnum"], "type": "code"}, " (the index of the current prim in the list of selected prims), and ", {"text": ["@numelem"], "type": "code"}, " (the total number of selected prims). Must return a string containing a path to the material to assign to the current prim."]}, {"indent": 4, "type": "para", "extent": [8563, 8747], "text": ["For example, this snippet alternates between assigning ", {"text": ["rough_red"], "type": "code"}, " and ", {"text": ["rough_blue"], "type": "code"}, " based on whether a primitive is at an odd or even position in the list of selected primitives:"]}, {"lang": "vex", "indent": 4, "type": "pre", "extent": [8747, 8851], "text": ["\n    return (@elemnum % 2) ? \"/materials/rough_red\" : \"/materials/rough_blue\";\n    "]}], "indent": 0, "text": ["VEXpression"], "role": "item", "extent": [8147, 8160], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8863, 8980], "text": ["When ", {"text": ["Specify material using"], "type": "ui"}, " is \"CVEX\", the path to a CVEX VOP network. See ", {"fragment": "#cvex", "text": ["CVEX VOP networks"], "value": "#cvex", "fullpath": "/nodes/lop/assignmaterial#cvex", "scheme": null, "type": "link"}, " above."]}], "indent": 0, "text": ["CVEX Node"], "role": "item", "extent": [8851, 8863], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9001, 9086], "text": ["Whether and how to override individual material parameters for each assignment."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [9096, 9142], "text": ["Do not override material parameters."]}], "indent": 4, "text": ["None"], "extent": [9086, 9096], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [9159, 9245], "text": ["Run a VEX snippet for each assignment that can compute new parameter values."]}], "indent": 4, "text": ["VEXpression"], "extent": [9142, 9159], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [9262, 9367], "text": ["Run a VEX program, provided by a CVEX node, to compute override values for material parameters."]}], "indent": 4, "text": ["CVEX Script"], "extent": [9245, 9262], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Parameters Override"], "role": "item", "extent": [8980, 9001], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9389, 9876], "text": ["When ", {"text": ["Parameter override"], "type": "ui"}, " is \"VEXpression\", this ", {"text": ["VEX snippet"], "fullpath": "/vex/snippets", "scheme": null, "type": "link", "value": "/vex/snippets"}, " is run for each selected primitive. The settings under \"CVEX Bindings\" control how material parameters are mapped to VEX variables. You override a material parameter by assigning to the corresponding variable. You can also use ", {"text": ["@primpath"], "type": "code"}, " (the path of the current primitive), ", {"text": ["@elemnum"], "type": "code"}, " (the index of the current prim in the list of selected prims), and ", {"text": ["@numelem"], "type": "code"}, " (the total number of selected prims)."]}, {"indent": 4, "type": "para", "extent": [9876, 10069], "text": ["For example, if the material has a parameter named ", {"text": ["roughness"], "type": "code"}, " (and ", {"text": ["Autobind by name"], "type": "ui"}, " is on, the default), you can override it by setting the corresponding variable in the VEX snippet:"]}, {"lang": "vex", "indent": 4, "type": "pre", "extent": [10069, 10141], "text": ["\n    @roughness = (@elemnum % 3) ? 0.25 : 0.5;\n    "]}], "indent": 0, "text": ["Override VEXpression"], "role": "item", "extent": [9367, 9389], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10162, 10276], "text": ["When ", {"text": ["Parameters override"], "type": "ui"}, " is \"CVEX\", the path to a CVEX VOP network. See ", {"fragment": "#cvex", "text": ["CVEX VOP networks"], "value": "#cvex", "fullpath": "/nodes/lop/assignmaterial#cvex", "scheme": null, "type": "link"}, " above."]}], "indent": 0, "text": ["Override CVEX Node"], "role": "item", "extent": [10141, 10162], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10300, 10495], "text": ["A pattern that selects VEXpression parameters that should be exported from the final VEX program.  I.e., these are the output parameters that will be used for material parameter override.  "]}], "indent": 0, "text": ["VEX Bindings to Export"], "role": "item", "extent": [10276, 10300], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10518, 10657], "text": ["Specifies the USD path to the parent primitive inside which the LOP should author any automatically created materials with overrides."]}], "indent": 0, "text": ["Materials Parent Path"], "role": "item", "extent": [10495, 10518], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10680, 10816], "text": ["Specifies the primitive type of any ancestors that needs to be authored in order to automatically create materials with overrides."]}], "indent": 0, "text": ["Materials Parent Type"], "role": "item", "extent": [10657, 10680], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "text": [" CVEX Bindings "], "type": "sep", "extent": [10816, 10841], "level": 5}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [10860, 11212], "text": ["When this is on, attributes on the current primitive (when computing assignment) or on the material (when computing overrides) are automatically made available as VEX variables with the same name in the relevant VEXpression (or CVEX network). You can turn this off and map attribute names to VEX variable names manually using the multiparm below."]}], "indent": 0, "text": ["Autobind by Name"], "role": "item", "extent": [10841, 10860], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11232, 11304], "text": ["The number of manual attribute to VEX variable bindings to create."]}], "indent": 0, "text": ["Number of Bindings"], "role": "item", "extent": [11212, 11232], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11320, 11404], "text": ["In a binding pair, the name of the USD attribute to convert to a VEX variable."]}], "indent": 0, "text": ["Attribute Name"], "role": "item", "extent": [11304, 11320], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11419, 11512], "text": ["In a binding pair, the name of the VEX variable to create to mirror the USD attribute."]}], "indent": 0, "text": ["VEX Parameter"], "role": "item", "extent": [11404, 11419], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "text": [" Material binding "], "type": "sep", "extent": [11512, 11541], "level": 5}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [11576, 11959], "text": ["When this is on, the ", {"text": ["Primitives"], "type": "ui"}, " parameter should point to a geometry or geometry subset primitive, and the node runs the VEX snippet for each ", {"text": ["geometry element"], "type": "em"}, " (for example, polygon face) in the geometry, instead of for each selected primitive. In the snippet, ", {"text": ["@elemnum"], "type": "code"}, " is the index of the current element, and ", {"text": ["@numelem"], "type": "code"}, " is the total number of elements in the geometry."]}, {"indent": 4, "type": "para", "extent": [11959, 12070], "text": ["The node will automatically create geometry subsets for each set of elements with the same material path."]}], "indent": 0, "text": ["Create and Bind Geometry Subsets"], "role": "item", "extent": [11541, 11576], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12079, 12193], "text": ["Sets the ", {"text": ["purpose"], "type": "code"}, " value for the assignments. This controls what types of renders the assignment applies to."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [12202, 12251], "text": ["The assignments apply to all rendering."]}], "indent": 4, "text": ["All"], "extent": [12193, 12202], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [12268, 12327], "text": ["The assignments only apply in full/final renders."]}], "indent": 4, "text": ["Full Render"], "extent": [12251, 12268], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [12347, 12403], "text": ["The assignments only apply in preview renders."]}], "indent": 4, "text": ["Preview Render"], "extent": [12327, 12347], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Purpose"], "role": "item", "extent": [12070, 12079], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12413, 12689], "text": ["Controls the strength of the assignment \"opinion\" relative to any conflicting assignments on descendant prims under the assigned primitives in the tree. (For example, if this node assigns ", {"text": ["/materials/zerbra"], "type": "code"}, " to ", {"text": ["/a"], "type": "code"}, ", but ", {"text": ["/a/b/c"], "type": "code"}, " already is assigned ", {"text": ["/materials/tiger"], "type": "code"}, ")."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [12702, 12814], "text": ["Use normal rules for opinion strengths (assignments on descendants override assignments on ancestors)."]}], "indent": 4, "text": ["Default"], "extent": [12689, 12702], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [12845, 12932], "text": ["This assignment always overrides assignments on primitives lower in the tree."]}, {"indent": 8, "type": "para", "extent": [12932, 13217], "text": ["This is useful if you want collection-based binding to override child primitives that already have a material binding. This option ensures the collection-based binding on the ancestor takes effect despite the general rule that descendant opinions are stronger than ancestors."]}], "indent": 4, "text": ["Stronger than descendants"], "extent": [12814, 12845], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [13246, 13371], "text": ["This assignment is always overridden by assignments on primitives lower in the tree. This is the same as \"Default\"."]}], "indent": 4, "text": ["Weaker than descendants"], "extent": [13217, 13246], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Strength"], "role": "item", "extent": [12403, 12413], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [13379, 13431], "text": ["How to express the material assignment in USD."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [13443, 13549], "text": ["Assign the material by authoring a ", {"text": ["material:binding"], "type": "code"}, " relationship on each individual primitive."]}], "indent": 4, "text": ["Direct"], "extent": [13431, 13443], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [13571, 13965], "text": ["Assign each material to a collection of primitives on a common ancestor using the ", {"text": ["material:binding:collection"], "type": "code"}, " relationship. If you specified the primitives using a collection in the ", {"text": ["Primitives"], "type": "ui"}, " parameter, this will re-use that collection. Otherwise, you can specify the path to the a prim using the ", {"text": ["Path"], "type": "ui"}, " parameter below and the node will create a new collection on that prim."]}, {"indent": 8, "type": "para", "extent": [13965, 14322], "text": ["Note, the  USD specification for the collection-based material binding says that the material is assigned only to primitives that are descendants of the primitive on which the binding relationship is defined (see ", {"text": ["Path"], "type": "ui"}, " parameter). That is, the binding does not affect any primitives in the collection that are not descendants of that primitive."]}], "indent": 4, "text": ["Collection based"], "extent": [13549, 13571], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Method"], "role": "item", "extent": [13371, 13379], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [14367, 14775], "text": ["When ", {"text": ["Method"], "type": "ui"}, " is \"Collection based\", turn on this option to have the collection authored for the collection-based binding be marked to expand all descendants of the target primitives. This will cause the material assignment to be applied to the entire scene graph tree branch. The equivalent of this behavior always occurs when using \"Direct\" binding, which always inherits down the scene graph tree."]}], "indent": 0, "text": ["Include Descendant Primitives in Collection"], "role": "item", "extent": [14322, 14367], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [14781, 14899], "text": ["When ", {"text": ["Method"], "type": "ui"}, " is \"Collection based\", the collection-based binding will be defined on a primitive at this path."]}, {"indent": 4, "type": "para", "extent": [14899, 15008], "text": ["Also, if this LOP node needs to create a new collection, it will create it on a this primitive as well."]}, {"indent": 4, "type": "para", "extent": [15008, 15145], "text": ["If the path is empty, the LOP node tries to use the deepest ancestor common to all primitives given in the ", {"text": ["Primitives"], "type": "ui"}, " parameter."]}], "indent": 0, "text": ["Path"], "role": "item", "extent": [14775, 14781], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [7241, 7253], "container": true, "type": "parameters_section", "id": "parameters"}], "title": ["Assign Material"], "summary": ["Assigns a material to one or more USD primitives. You can use also programmatically assign materials using VEX, programmatically override material settings for each assignment, and programmatically assign materials to geometry subsets."], "attrs": {"group": "materials", "version": null, "since": "18.0", "namespace": null, "internal": "assignmaterial", "context": "lop", "type": "node", "icon": "LOP/assignmaterial"}, "included": ["/nodes/lop/_snippet_token"], "type": "root"}