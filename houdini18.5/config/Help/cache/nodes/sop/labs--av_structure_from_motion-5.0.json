{"body": [{"indent": 0, "text": ["Labs AV Structure from Motions"], "type": "title", "extent": [0, 35], "level": 0}, {"indent": 0, "type": "summary", "extent": [168, 282], "text": [" Detects 3D points with position and orientation and calibrate the cameras accordingly using Alicevision. "]}, {"indent": 0, "type": "para", "extent": [282, 589], "text": ["The objective of this step is to understand the geometric relationship behind all the observations provided by the input images, and infer the rigid scene structure (3D points) with the pose (position and orientation) and internal calibration of all cameras. The output of this node will be a point cloud."]}, {"body": [{"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [626, 675], "text": ["Start the cooking process for this step."]}], "indent": 4, "text": ["Cook"], "role": "item", "extent": [616, 626], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [692, 795], "text": ["This toggle controls if the node should automatically recook if any dependencies have changed."]}], "indent": 4, "text": ["Manual Mode"], "role": "item", "extent": [675, 692], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [808, 966], "text": ["This toggle controls if the status of the current node should be printed to the console. This is useful for getting a quick overview of the progress."]}], "indent": 4, "text": ["Use Log"], "role": "item", "extent": [795, 808], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 2, "text": ["Main"], "extent": [601, 616], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [1019, 1070], "text": ["Describer types used to describe an image."]}], "indent": 4, "text": ["Describer Types"], "role": "item", "extent": [998, 1019], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1095, 1195], "text": ["Estimator type used to localize cameras (acransac, ransac, lsmeds, loransac, maxconsensus)."]}], "indent": 4, "text": ["Localizer Estimator"], "role": "item", "extent": [1070, 1095], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1219, 1378], "text": ["Maximum number of matches per image pair (and per feature type).\n        This can be useful to have a quick reconstruction overview. 0 means no limit."]}], "indent": 4, "text": ["Max Num of Matches"], "role": "item", "extent": [1195, 1219], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1404, 1455], "text": ["Extension of the intermediate file export."]}], "indent": 4, "text": ["Inter File Extension"], "role": "item", "extent": [1378, 1404], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1481, 1631], "text": ["Minimal number of images to use the vocabulary tree. If we have less features than this threshold, we will compute all matching combinations."]}], "indent": 4, "text": ["Min Number of Images"], "role": "item", "extent": [1455, 1481], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1652, 1733], "text": ["Limit the number of descriptors you load per image. Zero means no limit."]}], "indent": 4, "text": ["Max Descriptors"], "role": "item", "extent": [1631, 1652], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1756, 1854], "text": ["The number of matches to retrieve for each image (If 0 it will retrieve all the matches)."]}], "indent": 4, "text": ["Number of Matches"], "role": "item", "extent": [1733, 1756], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1895, 1999], "text": ["This option is useful for SfM augmentation. Lock previously reconstructed poses and intrinsics."]}], "indent": 4, "text": ["Lock Scene Previously Reconstructed"], "role": "item", "extent": [1854, 1895], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2027, 2088], "text": ["Observation contraint mode used in the optimization:"]}, {"body": [{"indent": 8, "blevel": 10, "type": "bullet", "extent": [2088, 2158], "text": ["Basic: Use standard reprojection error in pixel coordinates"]}, {"indent": 8, "blevel": 10, "type": "bullet", "extent": [2158, 2253], "text": ["Scale: Use reprojection error in pixel coordinates but relative to the feature scale"]}], "container": true, "type": "bullet_group"}], "indent": 4, "text": ["Observation Constraint"], "role": "item", "extent": [1999, 2027], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2282, 2452], "text": ["It reduces the reconstruction time, especially for large datasets (500+ images), by avoiding computation of the Bundle Adjustment on areas that are not changing."]}], "indent": 4, "text": ["Local Bundle Adjustment"], "role": "item", "extent": [2253, 2282], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2486, 2621], "text": ["Use only matches from the input matchesFolder parameter. Matches folders previously added to the SfMData file will be ignored."]}], "indent": 4, "text": ["Use Only Inputfolder Matches"], "role": "item", "extent": [2452, 2486], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2672, 2897], "text": ["Force to keep constant all the intrinsics parameters of the cameras (focal length, principal point, distortion if any) during the reconstruction. This may be helpful if the input cameras are already fully calibrated."]}], "indent": 4, "text": ["Force Lock of All Intrinsic Camera Parameters"], "role": "item", "extent": [2621, 2672], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2921, 2960], "text": ["Enable/Disable rig constraint."]}], "indent": 4, "text": ["Use Rig Constraint"], "role": "item", "extent": [2897, 2921], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2997, 3058], "text": ["Maximum number of iterations allowed in ransac step."]}], "indent": 4, "text": ["Localizer Max Ransac Iterations"], "role": "item", "extent": [2960, 2997], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3086, 3184], "text": ["Graph-distance limit to define the Active region in the Local Bundle Adjustment strategy."]}], "indent": 4, "text": ["LocalBA Graph Distance"], "role": "item", "extent": [3058, 3086], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3212, 3258], "text": ["Minimum track length in input of SfM."]}], "indent": 4, "text": ["Min Input Track Length"], "role": "item", "extent": [3184, 3212], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3297, 3529], "text": ["Minimum number of observations to triangulate a point. Set it to 3 (or more) reduces drastically the noise in the point cloud, but the number of final poses is a little bit reduced (from 1.5% to 11% on the tested datasets)."]}], "indent": 4, "text": ["Min Observation for Triangulation"], "role": "item", "extent": [3258, 3297], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3562, 3603], "text": ["Minimum angle for triangulation."]}], "indent": 4, "text": ["Min Angle for Triangulation"], "role": "item", "extent": [3529, 3562], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3635, 3874], "text": ["Maximum error (in pixels) allowed for camera localization (resectioning). If set to 0, it will select a threshold according to the localizer estimator used (if ACRansac, it will analyze the input data to select the optimal value)."]}], "indent": 4, "text": ["Localizer Max Ransac Error"], "role": "item", "extent": [3603, 3635], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3902, 3938], "text": ["Minimum angle for landmark."]}], "indent": 4, "text": ["Min Angle for Landmark"], "role": "item", "extent": [3874, 3902], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3966, 4002], "text": ["Maximum reprojection error."]}], "indent": 4, "text": ["Max Reprojection Error"], "role": "item", "extent": [3938, 3966], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4030, 4074], "text": ["Minimum angle for the initial pair."]}], "indent": 4, "text": ["Min Angle Initial Pair"], "role": "item", "extent": [4002, 4030], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4102, 4146], "text": ["Maximum angle for the initial pair."]}], "indent": 4, "text": ["Max Angle Initial Pair"], "role": "item", "extent": [4074, 4102], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 2, "text": ["Structure From Motion"], "extent": [966, 998], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [4198, 4251], "text": ["Output file type for the undistorted images."]}], "indent": 4, "text": ["Output File Type"], "role": "item", "extent": [4176, 4198], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4270, 4365], "text": ["Save projections and intrinsics information in images metadata (only for .exr images)."]}], "indent": 4, "text": ["Save Metadata"], "role": "item", "extent": [4251, 4270], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4395, 4462], "text": ["Save projections and intrinsics information in text files."]}], "indent": 4, "text": ["Save Matrices Text Files"], "role": "item", "extent": [4365, 4395], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4491, 4545], "text": ["Apply a correction on images Exposure Value."]}], "indent": 4, "text": ["Correct images exposure"], "role": "item", "extent": [4462, 4491], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 2, "text": ["Prepare Dense Scene"], "extent": [4146, 4176], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [4585, 4762], "text": ["The environment used for launching the AliceVision utilities commandline. Note that this is a python expression and should be modified only through \"Edit Expression\"."]}], "indent": 5, "text": ["Environment"], "role": "item", "extent": [4567, 4585], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 2, "text": ["Environment"], "extent": [4545, 4567], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [589, 601], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [4785, 4818], "text": ["This plugs into AV Depth Map"]}], "indent": 0, "text": ["AV Depth Map"], "extent": [4771, 4785], "container": true, "type": "dt"}, {"body": [{"indent": 4, "type": "para", "extent": [4830, 4899], "text": ["This is the pointcloud generated by the Prepare Dense Scene step."]}], "indent": 0, "text": ["Pointcloud"], "extent": [4818, 4830], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Outputs", "role": "section", "extent": [4762, 4771], "container": true, "type": "outputs_section", "id": "outputs"}], "summary": [" Detects 3D points with position and orientation and calibrate the cameras accordingly using Alicevision. "], "type": "root", "attrs": {"version": "5.0", "tags": "sidefxlabs,  photogrammetry", "namespace": "labs", "internal": "labs::av_structure_from_motion::5.0", "context": "sop", "type": "node", "icon": "alicevision.png"}, "title": ["Labs AV Structure from Motions"]}