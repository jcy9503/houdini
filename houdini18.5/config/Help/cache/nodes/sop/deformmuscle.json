{"body": [{"indent": 0, "text": ["Deform Muscle"], "type": "title", "extent": [0, 18], "level": 0}, {"indent": 0, "type": "summary", "extent": [128, 194], "text": ["Deforms captured points according to muscle deformations. "]}, {"indent": 0, "type": "para", "extent": [194, 588], "text": ["Connect the output of a ", {"text": ["Capture Metaball SOP"], "fullpath": "/nodes/sop/capturemeta", "scheme": "Node", "type": "link", "value": "/nodes/sop/capturemeta"}, "\nthat uses muscles as its capture regions to the input of this node.\nThis node deforms the captured skin geometry as the muscles deform\nusing the attributes created by the Capture Metaball SOP to determine\nwhich surfaces are controlled by which metaball groups.  Muscles are\ncreated using the ", {"text": ["Muscle Object"], "fullpath": "/nodes/obj/muscle", "scheme": "Node", "type": "link", "value": "/nodes/obj/muscle"}, "."]}, {"indent": 0, "type": "para", "extent": [588, 941], "text": ["This deformation occurs in two stages. First, the skin geometry is\ndeformed according to the positions of the metaballs contained in each\nmuscle (see also ", {"text": ["Deform Metaball"], "fullpath": "/nodes/sop/deformmeta", "scheme": "Node", "type": "link", "value": "/nodes/sop/deformmeta"}, "). Next, the skin\ngeometry is inflated over the muscle surface (see also\n", {"text": ["Inflate"], "fullpath": "/nodes/sop/inflate", "scheme": "Node", "type": "link", "value": "/nodes/sop/inflate"}, ") so that the shape of the muscles is\npreserved by the skin."]}, {"indent": 0, "type": "para", "extent": [941, 1490], "text": ["Muscles are generated using blended metaballs. The density of each\nmetaball where it captured to the skin geometry at the capture frame\ncontrols how much influence the metaball has when it deforms the skin\ngeometry. This density is multiplied by the weight of the group that\nmetaball is contained in. Group weights are specified by the ", {"text": ["Capture\nMetaball"], "fullpath": "/nodes/sop/capturemeta", "scheme": "Node", "type": "link", "value": "/nodes/sop/capturemeta"}, " and ", {"text": ["Capture Layer\nPaint"], "fullpath": "/nodes/sop/capturelayerpaint", "scheme": "Node", "type": "link", "value": "/nodes/sop/capturelayerpaint"}, " nodes.  Group weights are also used\nby this operator to determine which muscles influence each point\nduring inflation."]}, {"body": [{"body": [{"indent": 0, "type": "para", "extent": [1516, 1652], "text": ["This tab controls point deformation.  In this stage, input\npoints are deformed according to changes in the captured\nmuscle structure."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [1697, 1761], "text": ["Normalize group weights before performing the deformation."]}], "indent": 0, "text": ["Normalize Group Weights"], "role": "item", "attrs": {"id": "normalize"}, "extent": [1652, 1677], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1782, 1890], "text": ["Calculates point normals before doing anything. You can use\n    these normals with ", {"text": ["Deform Normals"], "type": "ui"}, "."]}], "indent": 0, "text": ["Pre-Compute Normals"], "role": "item", "extent": [1761, 1782], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1906, 2045], "text": ["Deforms point normals to match the deformation of the\n    points. This can help keep normals pointed correctly after\n    deformation."]}], "indent": 0, "text": ["Deform Normals"], "role": "item", "extent": [1890, 1906], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2071, 2146], "text": ["Deforms vector attributes to match the deformation of\n    the points."]}], "indent": 0, "text": ["Deform Vector Attributes"], "role": "item", "extent": [2045, 2071], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2165, 2199], "text": ["Vector attributes to deform."]}], "indent": 0, "text": ["Vector Attributes"], "role": "item", "extent": [2146, 2165], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2229, 2308], "text": ["Deforms quaternion attributes to match the deformation\n    of the points."]}], "indent": 0, "text": ["Deform Quaternion Attributes"], "role": "item", "extent": [2199, 2229], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2331, 2381], "text": ["Quaternion (Float\\", {"text": "", "fullpath": "/nodes/sop/4", "scheme": null, "type": "link", "value": "4"}, ") attributes to deform."]}], "indent": 0, "text": ["Quaternion Attributes"], "role": "item", "extent": [2308, 2331], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2407, 2998], "text": ["Increasing this parameter biases the capture weights of\n    points more towards metaballs that are close to that point\u2019s\n    capture position. It can be used in conjunction with the\n    Capture Position Bias parameter on the Muscle Object.\n    This parameter acts as a multiplier to the muscle specific\n    ", {"text": ["Capture Position Bias"], "type": "ui"}, " parameter in the\n    ", {"text": ["Muscle Object"], "fullpath": "/nodes/obj/muscle", "scheme": "Node", "type": "link", "value": "/nodes/obj/muscle"}, ".  Increase this parameter\n    to reduce the effective radius of influence of metaballs\n    on surrounding points during deformation.  Decrease this\n    parameter to increase this radius of influence."]}], "indent": 0, "text": ["Position Bias Multiplier"], "role": "item", "extent": [2381, 2407], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3039, 3273], "text": ["Enables the assumption that only point positions need to be\n    re-cached when the input geometry has changed to allow faster\n    cooking. Unpredictable results will occur with this enabled if\n    attributes or topology changes."]}], "indent": 0, "text": ["Assume Only Coordinate Changes In Input"], "role": "item", "extent": [2998, 3039], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Deform"], "extent": [1502, 1516], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [3287, 3418], "text": ["This tab controls point inflation.  In this stage, points are\noptionally inflated to lie on top of the captured muscle\ngeometry."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [3436, 3686], "text": ["Enables or disables the inflation step of the deform\n    process. If inflation is disabled, then the captured\n    geometry is deformed according to the underlying muscle\n    positions but is not inflated to lie on top of the muscle\n    surface."]}], "indent": 0, "text": ["Enable Inflation"], "role": "item", "extent": [3418, 3436], "container": true, "type": "parameters_item"}, {"body": [{"indent": 3, "type": "para", "extent": [3705, 3801], "text": ["Specifies which points in the input geometry should be\n   influenced in the inflation step."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [3824, 3882], "text": ["All points in the input geometry may be inflated."]}], "indent": 3, "text": ["Inflate All Points"], "extent": [3801, 3824], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [3917, 4741], "text": ["The ", {"text": ["Slide Modifier Paint operator"], "fullpath": "/nodes/sop/slidemodifierpaint", "scheme": "Node", "type": "link", "value": "/nodes/sop/slidemodifierpaint"}, "\n        may be used to paint a \"Surface Inflation Modifier\" attribute\n        using the ", {"text": ["Attribute to Paint"], "type": "ui"}, " parameter on this node.\n        This attribute is used to determine how to inflate points\n        in the input geometry when \"Use Inflate Modifier Attribute\"\n        is specified.  This float attribute may take any value between\n        0 and 1.  A value of 0 specifies that a point should remain at\n        its deformed position without inflating.  A value of 1 specifies\n        that a point should be transformed to its fully inflated position.\n        Values in between 0 and 1 blend linearly between the two\n        positions.  This option can be used to specify exactly what\n        locations of the input geometry require inflation."]}], "indent": 3, "text": ["Use Inflate Modifier Attribute"], "extent": [3882, 3917], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Points To Inflate"], "role": "item", "extent": [3686, 3705], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4764, 4957], "text": ["Use this parameter to specify a list of muscles over which the\n    input geometry is to be inflated.  Points in the input geometry\n    will only be inflated over the muscles in this list."]}], "indent": 0, "text": ["Muscles For Inflation"], "role": "item", "extent": [4741, 4764], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4976, 5164], "text": ["The maximum distance that a point can be pushed away from\n    its original position. If a muscle cannot be found within\n    this distance, the point is kept at its original position."]}], "indent": 0, "text": ["Maximum Inflation"], "role": "item", "extent": [4957, 4976], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5183, 5614], "text": ["This controls the tolerance used when trying to locate a\n    position on the muscle surface to place each point in the\n    deformed geometry. A higher tolerance can provide increased\n    performance, while a lower tolerance results in a smoother\n    skin surface. In general, a higher tolerance such as 0.01 is\n    sufficient for interactive work, while a lower tolerance\n    such as 0.0001 is more appropriate for animation."]}], "indent": 0, "text": ["Inflate Tolerance"], "role": "item", "extent": [5164, 5183], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5627, 6471], "text": ["The points in this group will be considered joint points,\n    and so special consideration for them will be given when\n    inflating and ", {"text": ["Exclude Opposing Metaballs for Joint Group"], "type": "ui"}, "\n    is enabled. When a point is in a joint group, it will not be\n    inflated to any metaballs whose normals point in an opposite\n    direction to the point\u2019s normal. This is especially useful\n    for points in the inside curve of a joint because it will\n    keep points from inflating to a muscle on the opposite side\n    of the joint. The ", {"text": ["Group Paint SOP"], "fullpath": "/nodes/sop/grouppaint", "scheme": "Node", "type": "link", "value": "/nodes/sop/grouppaint"}, " can\n    be used to easily paint this group.  Alternately, inflation\n    can be avoided entirely in the inside of a character\u2019s joints\n    by setting ", {"text": ["Points to Inflate"], "type": "ui"}, " to\n    \"Use Inflate Modifier Attribute\" and painting points such that\n    these points are not inflated."]}], "indent": 0, "text": ["Joint Group"], "role": "item", "extent": [5614, 5627], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6515, 6845], "text": ["Checks to make sure that a metaball\u2019s normal and the point\n    normal for a given point are not pointed in opposite\n    directions. If they are, the point should not be inflated to\n    that metaball, since it is on the opposing side of the\n    joint. This option turns this check on or off for points in\n    the joint group."]}], "indent": 0, "text": ["Exclude Opposing Metaballs for Joint Group"], "role": "item", "extent": [6471, 6515], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6861, 7134], "text": ["If this parameter is enabled then the Deform Muscle SOP\n    simulates the effect of skin sliding over top of the underlying\n    muscle surface. For this to work, each ", {"text": ["Muscle\n    Object"], "fullpath": "/nodes/obj/muscle", "scheme": "Node", "type": "link", "value": "/nodes/obj/muscle"}, " to which the geometry is captured must\n    define a rest anchor."]}], "indent": 0, "text": ["Enable Sliding"], "role": "item", "extent": [6845, 6861], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7155, 7658], "text": ["The amount of sliding to allow during deformation. If this\n    parameter is set to zero, then points in the captured geometry\n    stick perfectly to the muscle surface during deformation and no\n    sliding occurs. If this parameter is set to one, then points do\n    not stick to the underlying muscle surface at all, and the skin\n    slides freely over the muscles. This parameter may be modified\n    on a per-point basis using the ", {"text": ["Slide Modifier\n    Paint"], "fullpath": "/nodes/sop/slidemodifierpaint", "scheme": "Node", "type": "link", "value": "/nodes/sop/slidemodifierpaint"}, " operation."]}], "indent": 0, "text": ["Sliding Coefficient"], "role": "item", "extent": [7134, 7155], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Inflate"], "extent": [3273, 3287], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [7674, 7884], "text": ["This tab controls geometry smoothing.  It can optionally be used to\nsmooth out portions of the input geometry that have deformed or\ninflated in an undesirable way.  See also the\n", {"text": ["Smooth SOP"], "fullpath": "/nodes/sop/smooth", "scheme": "Node", "type": "link", "value": "/nodes/sop/smooth"}, "."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [7902, 7947], "text": ["Enables or disables geometry smoothing."]}], "indent": 0, "text": ["Enable Smoothing"], "role": "item", "extent": [7884, 7902], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7974, 8092], "text": ["Use this parameter to specify a primitive group in the input\n    geometry to perform the smoothing operation on."]}], "indent": 0, "text": ["Primitive Group to Smooth"], "role": "item", "extent": [7947, 7974], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8120, 8237], "text": ["Noise frequency to remove. The larger this value, the more it\n    will keep the original shape of the geometry."]}], "indent": 0, "text": ["Smoothing Cutoff Frequency"], "role": "item", "extent": [8092, 8120], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8259, 8291], "text": ["Number of smoothing steps."]}], "indent": 0, "text": ["Smoothing Iterations"], "role": "item", "extent": [8237, 8259], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8310, 8691], "text": ["When this parameter is set to 0, points on the boundary of the\n    group specified in ", {"text": ["Primitive Group to Smooth"], "type": "ui"}, " may also be\n    affected by the smooth operation.  Setting this parameter to 1\n    clamps this points to remain in their original position.\n    Values between 0 and 1 blend the boundary point positions between\n    their un-clamped and fully clamped positions."]}], "indent": 0, "text": ["Boundary Clamping"], "role": "item", "extent": [8291, 8310], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Smoothing"], "extent": [7658, 7674], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [1490, 1502], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [8719, 8871], "text": ["This must be geometry that has a valid ", {"text": ["metaCapture"], "type": "code"}, " point\n    attribute, such as the output of a ", {"text": ["Capture Metaball\n    SOP"], "fullpath": "/nodes/sop/capturemeta", "scheme": "Node", "type": "link", "value": "/nodes/sop/capturemeta"}, "."]}], "indent": 0, "text": ["Captured Geometry"], "extent": [8699, 8719], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Inputs", "role": "section", "extent": [8691, 8699], "container": true, "type": "inputs_section", "id": "inputs"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [8889, 8917], "text": ["The deformed geometry."]}], "indent": 0, "text": ["Output"], "extent": [8880, 8889], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Outputs", "role": "section", "extent": [8871, 8880], "container": true, "type": "outputs_section", "id": "outputs"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [8926, 8947], "text": [{"text": "", "fullpath": "/nodes/obj/muscle", "scheme": "Node", "type": "link", "value": "/nodes/obj/muscle"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [8947, 8979], "text": [{"text": "", "fullpath": "/nodes/sop/slidemodifierpaint", "scheme": "Node", "type": "link", "value": "/nodes/sop/slidemodifierpaint"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [8979, 9004], "text": [{"text": "", "fullpath": "/nodes/sop/capturemeta", "scheme": "Node", "type": "link", "value": "/nodes/sop/capturemeta"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [9004, 9036], "text": [{"text": "", "fullpath": "/nodes/sop/capturelayerpaint", "scheme": "Node", "type": "link", "value": "/nodes/sop/capturelayerpaint"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [8917, 8926], "container": true, "type": "related_section", "id": "related"}], "summary": ["Deforms captured points according to muscle deformations. "], "type": "root", "attrs": {"version": null, "tags": "capture, character, muscle", "namespace": null, "internal": "deformmuscle", "context": "sop", "type": "node", "icon": "SOP/deformmuscle"}, "title": ["Deform Muscle"]}