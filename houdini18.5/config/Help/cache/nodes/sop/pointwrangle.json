{"body": [{"indent": 0, "text": ["Point Wrangle"], "type": "title", "extent": [0, 18], "level": 0}, {"indent": 0, "type": "summary", "extent": [140, 214], "text": ["Runs a VEX snippet to modify point attributes, including position."]}, {"body": [{"indent": 0, "type": "para", "extent": [229, 350], "text": ["This is a very powerful, low-level node that lets experts who are\nfamiliar with VEX tweak point attributes using code."]}, {"indent": 0, "type": "para", "extent": [350, 464], "text": ["This node corresponds to the ", {"text": ["VOP SOP"], "fullpath": "/nodes/sop/vopsop", "scheme": "Node", "type": "link", "value": "/nodes/sop/vopsop"}, ",\nbut uses a textual VEX snippet instead of a VOP network."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [473, 604], "text": ["This node requires that you understand the ", {"text": ["vex language"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, ".\n    It is very easy to write incorrect code using this node."]}], "indent": 0, "role": "item", "extent": [464, 473], "container": true, "type": "warning"}], "container": true, "role": "item_group", "type": "warning_group"}, {"indent": 0, "type": "para", "extent": [604, 818], "text": ["This node ", {"text": ["runs the snippet on every point"], "type": "em"}, " in the input geometry.\nThe snippet can edit the input geometry by changing attributes.\nIt can access information from other geometry using attributes and VEX functions."]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [818, 889], "text": ["Press ", {"keys": ["MMB"], "text": null, "type": "keys"}, " on the node to see any error output from the snippet."]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [889, 1102], "text": ["You can use the VEX function ", {"text": ["ch"], "type": "code"}, " to evaluate parameters.\n  The path is relative to this node (", {"text": ["ch(\"parm\")"], "type": "code"}, " will evaluate the parameter ", {"text": ["parm"], "type": "code"}, " on this node).\n  This evaluation will be done at the current time."]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [1102, 1333], "text": ["Unlike the ", {"text": ["Point SOP"], "fullpath": "/nodes/sop/point", "scheme": "Node", "type": "link", "value": "/nodes/sop/point"}, ", this does not use local variables.\n  Further, all backtick expressions and ", {"text": ["$F"], "type": "code"}, " variables will be evaluated at frame 1,\n  not the current time.\n  Use ", {"text": ["Frame"], "type": "code"}, ", ", {"text": ["Time"], "type": "code"}, ", or ", {"text": ["TimeInc"], "type": "code"}, " instead."]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 2, "text": ["Overview"], "extent": [214, 229], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1347, 1402], "text": ["This node runs the VEX snippet in the ", {"text": ["SOP context"], "type": "strong"}, "."]}, {"body": [{"indent": 0, "type": "para", "extent": [29, 294], "text": ["The ", {"text": ["VEX snippet"], "type": "ui"}, " parameter lets you enter a snippet of ", {"text": ["VEX code"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, " to run on the input geometry.\nSee ", {"text": ["VEX snippets"], "fullpath": "/vex/snippets", "scheme": null, "type": "link", "value": "/vex/snippets"}, " for information on special syntax in the snippet parameter.\nSee ", {"text": ["the VEX chapter"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, " for information on the VEX language."]}], "indent": 0, "level": 3, "text": ["Syntax"], "extent": [16, 29], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Context"], "extent": [1333, 1347], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1448, 1589], "text": ["You can create temporary VEX variables.\nNormal VEX variables do not have a ", {"text": ["@"], "type": "code"}, " prefix.\nFor example, the following code swaps ", {"text": ["P"], "type": "code"}, " and ", {"text": ["Cd"], "type": "code"}, "."]}, {"lang": "vex", "indent": 0, "type": "pre", "extent": [1589, 1643], "text": ["\nvector temp = @P;\n@P = @Cd;\n@Cd = temp;\n"]}], "indent": 0, "level": 2, "text": ["VEX variables"], "extent": [1428, 1448], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1667, 1871], "text": ["The VEX ", {"text": ["sop"], "type": "code"}, " context provides several global variables you can access,\nsuch as ", {"text": ["P"], "type": "code"}, ", that correspond to attributes.\nWhile you can access these directly, we recommend you use the ", {"text": ["@"], "type": "code"}, " prefix\nfor clarity."]}, {"indent": 0, "type": "para", "extent": [1871, 1966], "text": ["The following global variables do not correspond to attributes\nand may be useful in snippets."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [1973, 2001], "text": ["Total number of points."]}], "indent": 0, "text": [{"text": ["Npt"], "type": "code"}], "extent": [1966, 1973], "container": true, "type": "dt"}, {"body": [{"indent": 4, "type": "para", "extent": [2009, 2038], "text": ["Current time in seconds."]}], "indent": 0, "text": [{"text": ["Time"], "type": "code"}], "extent": [2001, 2009], "container": true, "type": "dt"}, {"body": [{"indent": 4, "type": "para", "extent": [2047, 2075], "text": ["Current time in frames."]}], "indent": 0, "text": [{"text": ["Frame"], "type": "code"}], "extent": [2038, 2047], "container": true, "type": "dt"}, {"body": [{"indent": 4, "type": "para", "extent": [2086, 2133], "text": ["Time increment between frames, in seconds."]}], "indent": 0, "text": [{"text": ["TimeInc"], "type": "code"}], "extent": [2075, 2086], "container": true, "type": "dt"}, {"body": [{"indent": 4, "type": "para", "extent": [2181, 2309], "text": ["A string that can be used to refer to the corresponding input\n    of this SOP in vex operations that take file parameters."]}], "indent": 0, "text": [{"text": ["OpInput1"], "type": "code"}, ", ", {"text": ["OpInput2"], "type": "code"}, ", ", {"text": ["OpInput3"], "type": "code"}, ", ", {"text": ["OpInput4"], "type": "code"}], "extent": [2133, 2181], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "level": 2, "text": ["Global Variables"], "extent": [1643, 1667], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2335, 2460], "text": ["A subset of points in the input geometry to run the program on.\n    Leave this blank to affect all points in the input."]}], "indent": 0, "text": ["Point group"], "role": "item", "extent": [2321, 2335], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2491, 2636], "text": ["A snippet of VEX code that will manipulate the point attributes.\n    You can use ", {"text": ["@", {"text": ["variable_name"], "type": "var"}], "type": "code"}, " syntax to access geometry attributes."]}], "indent": 0, "text": ["VEXpression"], "role": "item", "attrs": {"id": "snippet"}, "extent": [2460, 2473], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2679, 2806], "text": ["Only create attributes if their names match this pattern.\n    The default pattern allows any attribute to be created."]}, {"indent": 4, "type": "para", "extent": [2806, 3005], "text": ["You can restrict the created attributes by replacing the ", {"text": ["*"], "type": "code"}, " with a list of allowed names.\n    Global attributes, such as ", {"text": ["Cd"], "type": "code"}, ", ", {"text": ["v"], "type": "code"}, ", and ", {"text": ["id"], "type": "code"}, ", will be created even if they are not in this list."]}], "indent": 0, "text": ["Attributes to Create"], "role": "item", "attrs": {"id": "exportlist"}, "extent": [2636, 2658], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [2309, 2321], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [3014, 3042], "text": [{"text": "", "fullpath": "/nodes/sop/attribwrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribwrangle"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3042, 3069], "text": [{"text": "", "fullpath": "/nodes/sop/volumewrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/volumewrangle"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3069, 3092], "text": [{"text": "", "fullpath": "/nodes/sop/attribvop", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribvop"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3092, 3111], "text": [{"text": "", "fullpath": "/nodes/sop/point", "scheme": "Node", "type": "link", "value": "/nodes/sop/point"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3111, 3132], "text": [{"text": "", "fullpath": "/nodes/sop/vopsop", "scheme": "Node", "type": "link", "value": "/nodes/sop/vopsop"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [3005, 3014], "container": true, "type": "related_section", "id": "related"}], "title": ["Point Wrangle"], "summary": ["Runs a VEX snippet to modify point attributes, including position."], "attrs": {"version": null, "tags": "points, attrs, core, tech", "since": "12.5", "namespace": null, "internal": "pointwrangle", "context": "sop", "type": "node", "icon": "SOP/pointwrangle"}, "included": ["/nodes/sop/wrangle_syntax"], "type": "root"}