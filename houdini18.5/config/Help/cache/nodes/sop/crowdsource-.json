{"body": [{"indent": 0, "text": ["Crowd Source"], "type": "title", "extent": [0, 17], "level": 0}, {"indent": 0, "type": "summary", "extent": [137, 199], "text": ["Creates crowd agents to be used with the crowd solver."]}, {"indent": 0, "type": "para", "extent": [199, 524], "text": ["This node is used as part of a crowd simulation workflow. By default it creates a group of agents randomly scattered on an area specified by the controls. If geometry is connected as input, it will scatter agents onto that surface. If the input geometry only contains points, an agent will be placed at each point position."]}, {"body": [{"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [558, 601], "text": ["Source of the agent geometry and rig."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [613, 663], "text": ["Asset node or a subnet in current session"]}], "indent": 4, "text": ["Subnet"], "extent": [601, 613], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [673, 747], "text": ["The files are read from disk (need to be created using agent rop)"]}], "indent": 4, "text": ["Disk"], "extent": [663, 673], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Input"], "role": "item", "extent": [550, 558], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [762, 835], "text": ["Location of agent asset or subnet node when ", {"text": ["Input"], "type": "ui"}, " is ", {"text": ["Subnet"], "type": "ui"}, "."]}], "indent": 0, "text": ["Object Subnet"], "role": "item", "extent": [747, 762], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [852, 908], "text": ["Location of agent files when ", {"text": ["Input"], "type": "ui"}, " is ", {"text": ["Disk"], "type": "ui"}, "."]}], "indent": 0, "text": ["Cache Directory"], "role": "item", "extent": [835, 852], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [934, 1283], "text": ["Specifies whether the agent primitives should reference the agent\n    definition files on disk. If enabled, saving agents to a geometry file will\n    only store references to the agent definition files, instead of embedding\n    the agent definition in the ", {"text": [".bgeo"], "type": "code"}, " or ", {"text": [".geo"], "type": "code"}, " file (which produces a\n    self-contained, but larger, geometry file)."]}], "indent": 0, "text": ["Keep External References"], "role": "item", "extent": [908, 934], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1291, 1421], "text": ["Reload the files/nodes being referenced (Houdini caches needed agent files; when they're updated reloading them is required)."]}], "indent": 0, "text": ["Reload"], "role": "item", "extent": [1283, 1291], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1426, 1640], "text": ["These parameters are used to specify agent rig bones. These are used in various parts of the crowd workflow such as ", {"text": ["Terrain Adaptation"], "fullpath": "/nodes/dop/agentterrainadaptation", "scheme": "Node", "type": "link", "value": "/nodes/dop/agentterrainadaptation"}, " or ", {"text": ["Agent Look At"], "fullpath": "/nodes/dop/agentlookat", "scheme": "Node", "type": "link", "value": "/nodes/dop/agentlookat"}, "."]}], "indent": 0, "text": ["Rig"], "role": "item", "extent": [1421, 1426], "container": true, "type": "parameters_item"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [1662, 1794], "text": ["Animation clip that has the agent in neutral rest pose (no animation). This is used as reference when modifying agent rig."]}], "indent": 4, "text": ["Rest Clip"], "extent": [1647, 1662], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Clips"], "role": "item", "extent": [1640, 1647], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Source"], "extent": [536, 550], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1815, 1864], "text": ["Shape pattern of the crowd agents created. "]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [1876, 1937], "text": ["Scatter randomly based on the number and area size. "]}], "indent": 4, "text": ["Random"], "extent": [1864, 1876], "container": true, "type": "dt"}, {"body": [{"indent": 8, "type": "para", "extent": [1953, 2003], "text": ["Create a group based on rows and columns."]}], "indent": 4, "text": ["Formation"], "extent": [1937, 1953], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Layout"], "role": "item", "extent": [1806, 1815], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2014, 2081], "text": ["Size of the area that will be used to scatter agents onto."]}], "indent": 0, "text": ["Area Size"], "role": "item", "extent": [2003, 2014], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2089, 2125], "text": ["Number of agents to create."]}], "indent": 0, "text": ["Number"], "role": "item", "extent": [2081, 2089], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2138, 2184], "text": ["Used when randomly scattering agents."]}], "indent": 0, "text": ["Random Seed"], "role": "item", "extent": [2125, 2138], "container": true, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2191, 2265], "text": ["Used to push the agents apart to prevent initial self collisions."]}], "indent": 0, "text": ["Relax"], "role": "item", "extent": [2184, 2191], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2284, 2364], "text": ["Name of the attribute that stores density to be used for scattering agents."]}], "indent": 0, "text": ["Density Attribute"], "role": "item", "extent": [2265, 2284], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2379, 2420], "text": ["Multiplier on the density attribute."]}], "indent": 0, "text": ["Density Scale"], "role": "item", "extent": [2364, 2379], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2439, 2622], "text": ["Controls number of agents scattered using density attribute. When off number will be based on the density values; when on it will use value specified by the ", {"text": ["Number"], "type": "ui"}, " parameter."]}], "indent": 0, "text": ["Force Total Count"], "role": "item", "extent": [2420, 2439], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2634, 2715], "text": ["Name of the agent (this name is also used when referencing animation clips)."]}], "indent": 0, "text": ["Agent Name"], "role": "item", "extent": [2622, 2634], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2727, 2781], "text": ["Name of the group that the agents will belong to."]}], "indent": 0, "text": ["Group Name"], "role": "item", "extent": [2715, 2727], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2796, 2865], "text": ["Initial state that the agent will be when the simulation starts."]}], "indent": 0, "text": ["Default State"], "role": "item", "extent": [2781, 2796], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2872, 2923], "text": ["Color of the agent points and wireframe bones."]}], "indent": 0, "text": ["Color"], "role": "item", "extent": [2865, 2872], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2930, 2998], "text": ["Size of the agent (sets ", {"text": ["pscale"], "type": "code"}, " attribute on the agent point)."]}], "indent": 0, "text": ["Scale"], "role": "item", "extent": [2923, 2930], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3009, 3169], "text": ["Initial minimum speed for the agent (m/s). This may be adjusted during the simulation by the ", {"text": ["Animation Behavior"], "type": "ui"}, " settings on the ", {"text": "", "fullpath": "/nodes/dop/crowdsolver", "scheme": "Node", "type": "link", "value": "/nodes/dop/crowdsolver"}, "."]}], "indent": 0, "text": ["Min Speed"], "role": "item", "extent": [2998, 3009], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3180, 3340], "text": ["Initial maximum speed for the agent (m/s). This may be adjusted during the simulation by the ", {"text": ["Animation Behavior"], "type": "ui"}, " settings on the ", {"text": "", "fullpath": "/nodes/dop/crowdsolver", "scheme": "Node", "type": "link", "value": "/nodes/dop/crowdsolver"}, "."]}], "indent": 0, "text": ["Max Speed"], "role": "item", "extent": [3169, 3180], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3355, 3432], "text": ["How fast the agent is allowed to turn when changing direction (deg/sec)."]}], "indent": 0, "text": ["Max Turn Rate"], "role": "item", "extent": [3340, 3355], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3443, 3526], "text": ["Maximum force that is allowed to affect the agent (values higher are clamped)."]}], "indent": 0, "text": ["Max Force"], "role": "item", "extent": [3432, 3443], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3544, 3579], "text": ["Initial velocity of the agent."]}], "indent": 0, "text": ["Initial Velocity"], "role": "item", "extent": [3526, 3544], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3588, 3677], "text": ["Initial direction the agents face (if initial velocity given it will override this)."]}], "indent": 0, "text": ["Heading"], "role": "item", "extent": [3579, 3588], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3681, 3723], "text": ["Up vector to be used for the agents."]}], "indent": 0, "text": ["Up"], "role": "item", "extent": [3677, 3681], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Setup"], "extent": [1794, 1806], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [3739, 3801], "text": ["These controls allow randomization of parameters per agent."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [3823, 3863], "text": ["This will randomize the agent name."]}], "indent": 0, "text": ["Randomize Agent Name"], "role": "item", "extent": [3801, 3823], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3882, 4044], "text": ["Prefix part of the agent name. The variations will be created by appending random numbers based on the variations/seed parameters (agent1/agent3/agent8/etc)."]}], "indent": 0, "text": ["Agent Name Prefix"], "role": "item", "extent": [3863, 3882], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4056, 4094], "text": ["Number of agents names to create."]}], "indent": 0, "text": ["Variations"], "role": "item", "extent": [4044, 4056], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4100, 4163], "text": ["Random seed value to be used when creating per agent names"]}], "indent": 0, "text": ["Seed"], "role": "item", "extent": [4094, 4100], "container": true, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4177, 4242], "text": ["Type of distribution to be used when creating random values"]}], "indent": 0, "text": ["Distribution"], "role": "item", "extent": [4163, 4177], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Randomize"], "extent": [3723, 3739], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [4275, 4508], "text": ["Specifies which layer of the agents is displayed. All agents have a 'default' layer which is the skin geometry being deformed. The 'collision' layer is created based on the capture regions of the bones used to deform the agent."]}], "indent": 0, "text": ["Display Layer"], "role": "item", "extent": [4259, 4275], "container": true, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Visualize"], "extent": [4242, 4259], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [524, 536], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [4540, 4690], "text": ["Surface to be used as a base to scatter crowd agents onto. If only points are given, these will be used to create agents at each point position."]}], "indent": 0, "text": ["Custom Surface/Points"], "extent": [4516, 4540], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Inputs", "role": "section", "extent": [4508, 4516], "container": true, "type": "inputs_section", "id": "inputs"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [4708, 4762], "text": ["Agent primitives to be used in crowd simulation."]}], "indent": 0, "text": ["Agents"], "extent": [4699, 4708], "container": true, "type": "dt"}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Outputs", "role": "section", "extent": [4690, 4699], "container": true, "type": "outputs_section", "id": "outputs"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [4771, 4795], "text": [{"text": "", "fullpath": "/nodes/sop/agentprep", "scheme": "Node", "type": "link", "value": "/nodes/sop/agentprep"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [4795, 4820], "text": [{"text": "", "fullpath": "/nodes/dop/crowdsolver", "scheme": "Node", "type": "link", "value": "/nodes/dop/crowdsolver"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [4762, 4771], "container": true, "type": "related_section", "id": "related"}], "summary": ["Creates crowd agents to be used with the crowd solver."], "type": "root", "attrs": {"version": "", "tags": "crowds, agents, source", "since": "14.0", "namespace": null, "internal": "crowdsource", "context": "sop", "type": "node", "icon": "CROWDS/crowdsource"}, "title": ["Crowd Source"]}